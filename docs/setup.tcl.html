<html>
<head><title>setup.tcl</title></head>
<body bgcolor="#ffffff">
<font size="-2">
Index by:  <a href="index_main.html#setup.tcl">file name</a> |
<a href="index_main.html#byprocname">procedure name</a> |
<a href="index_main.html#bycall">procedure call</a> |
<a href="index_annot_full.html">annotation</a>
</font>
<hr>
<strong>setup.tcl</strong>
(<a href="setup.tcl-annot.html">annotations</a> | <a href="setup.tcl.txt">original source</a>)
<p>
<pre>
<font color="#208020">#!/usr/bin/tclsh</font>

<font color="#208020"># ====================================================================== </font>
<font color="#208020"># Configurable items</font>
<font color="#208020"># ====================================================================== </font>

<font color="#208020"># Install dir: ${destLib}/${packagename} </font>
set destLib [file join /usr/lib/tcltk]
set packageName IRCServices

<font color="#208020"># List of source/dest to install</font>
set filesList {
	pkgIndex.tcl
	ircservices.tcl
}


<font color="#208020"># ====================================================================== </font>
<font color="#208020"># Determine the destination lib dir</font>
<font color="#208020"># ====================================================================== </font>
if {[llength ${::argv}] == 1} {
	set destLib [lindex ${::argv} 0]
}
if {[lsearch ${auto_path} ${destLib}] == -1} {
	puts &quot;ERROR: Invalid directory to install. Must be one of these:&quot;
	puts &quot;[join ${auto_path} \n]&quot;
	exit 1
}

set destLib [file join ${destLib} ${packageName}]
file mkdir ${destLib}

<font color="#208020"># ====================================================================== </font>
<font color="#208020"># Install</font>
<font color="#208020"># ====================================================================== </font>

foreach source ${filesList} {
	set dest [file join ${destLib} ${source}]
	puts &quot;Installing ${dest}&quot;

	<font color="#208020"># Create destination dir if needed</font>
	set destDir [file dirname ${dest}]
	if {![file isdirectory ${destDir}]} { file mkdir ${destDir} }

	<font color="#208020"># Copy</font>
	file copy ${source} ${dest}
}

puts &quot;Done&quot;</pre>
<hr>
<font size="-2">
Index by:  <a href="index_main.html#byfilename">file name</a> |
<a href="index_main.html#byprocname">procedure name</a> |
<a href="index_main.html#bycall">procedure call</a> |
<a href="index_annot_full.html">annotation</a><br>
<cite>Index generated 2022-07-24 at 10:18.</cite>
</font>
</body>
</html>
